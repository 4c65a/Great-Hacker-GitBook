---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# 21:FTP

## ¿Que es FTP?

[FTP](../ethical-hacker/ethical-hacker/teoria-network/ftp.md) puede acceder a un servidor FTP para realizar diversas funciones de administración de archivos, entre ellas subir y descargar archivos.

**Por defecto tiene el puerto:**

```
21/tcp open ftp
```

## Escanear

```
nmap -sV -sC 192.168.1.251
```

```bash
PORT   STATE SERVICE
21/tcp open  ftp
|_ftp-bounce: bounce working!

PORT   STATE SERVICE
21/tcp open  ftp
|_ftp-bounce: server forbids bouncing to low ports <1025
```

<mark style="color:red;">**Fuente:**</mark> [https://nmap.org/nsedoc/scripts/ftp-bounce.html](https://nmap.org/nsedoc/scripts/ftp-bounce.html)

Existe muchas formas para escanear el puerto 21 o descubrirlo&#x20;

```
nmap -p 21 -v --open 192.168.1.251
```

```
nmap -sV -T4 192.168.1.251
```

```
sudo nmap -sV -p21 -sC -A 192.168.1.251 
```

### Script

```
nmap --script ftp-vuln-cve2010-4221 -p 21 192.168.1.251
nmap --script ftp-anon.nse -p 21 192.168.1.251
nmap --script ftp-bounce.nse -p 21 192.168.1.251
nmap --script ftp-brute.nse -p 21 192.168.1.251
nmap --script ftp-libopie -p 21 192.168.1.251
nmap --script ftp-brute -p 21 192.168.1.251
nmap --script ftp-vsftpd-backdoor -p 21 192.168.1.251
nmap --script=ftp-* -p 21 192.168.1.251

```

<mark style="color:red;">**Fuente:**</mark> [https://github.com/willc/OSCP-stuff/blob/master/enumeration/nmap-ftp-scan.sh](https://github.com/willc/OSCP-stuff/blob/master/enumeration/nmap-ftp-scan.sh)

## Conectar FTP

```
ftp 192.168.1.251 21
```

```
Name: anonymous
Password: <nothing>
ftp> 
```

## Conexión del navegador

Esto se puede hacer el el navegador con esta URL

```
ftp://anonymous:anonymous@192.168.1.251
```

## Descargar todos los archivos desde FTP

```bash
wget -m ftp://anonymous:anonymous@192.168.1.251 
```

```bash
wget -m --no-passive ftp://anonymous:anonymous@192.168.1.251
```

```bash
wget -m ftp://192.168.1.251/
```



#### <mark style="color:red;">**Recursos**</mark>

{% embed url="https://secybr.com/posts/ftp-pentesting-best-practices/" %}

{% embed url="https://book.hacktricks.xyz/network-services-pentesting/pentesting-ftp" %}

{% embed url="https://vk9-sec.com/21-tcp-ftp-enumeration/" %}
