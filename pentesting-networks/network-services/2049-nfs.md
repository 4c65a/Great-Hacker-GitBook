---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# 2049:NFS

## ¿Que es NFS?

Network File System es un sistema de archivos muy estable y potente para compartir dispositivos de almacenamiento de sistemas operativos UNIX/Linux. Gracias a NFS; Se puede acceder a los mismos archivos desde varios ordenadores. Proporciona comodidad en el almacenamiento de datos. En lugar de instalarse en el disco local para cada aplicación, permite compartir aplicaciones.

**Por defecto tiene el puerto:**

```bash
2049/tcp open  nfs 
```

## Escanear

```bash
nmap -sV 192.168.100.25
```

### Script

```bash
nmap -n -PN -sS -T5 -p 2049 --script=nfs-showmount 
nmap --script=nfs-ls.nse,nfs-showmount.nse,nfs-statfs.nse -p 2049 
nmap --script=nfs-ls,nfs-statfs,nfs-showmount -p 111,2049 
```

### Enumeración

```bash
nmap --script=nfs-ls,nfs-statfs,nfs-showmount -p 111,2049 
```

## Montar carpetas

Compruebe si hay carpetas disponibles para montar en una máquina remota.

```bash
showmount -e
```

Si encontramos una carpeta disponible, podemos montarla en la carpeta local.

```
sudo mkdir /mnt/test
```

Montar carpetas

```
# -t: Type
# -o nolock: Option. 'nolock' disables file locking. It's required for older NFS servers.
sudo mount -t nfs <target-ip>:/target/dir /mnt/test -o nolock

# -o vers=2: 
sudo mount -t nfs <target-ip>:/target/dir /mnt/test -o nolock -o vers=2

```

Confirmación

```
ls /mnt/test
```

Limpiar la carpeta montada después de la investigación

```
sudo umount /mnt/test
sudo rm -r /mnt/test
```

<mark style="color:red;">**Fuente:**</mark> [https://exploit-notes.hdks.org/exploit/network/protocol/nfs-pentesting/](https://exploit-notes.hdks.org/exploit/network/protocol/nfs-pentesting/)



<mark style="color:red;">**Recursos**</mark>

{% embed url="https://exploit-notes.hdks.org/exploit/network/protocol/nfs-pentesting/" %}

{% embed url="https://book.hacktricks.xyz/network-services-pentesting/nfs-service-pentesting" %}
