---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# 25,465,587:SMTP

## ¿Que es SMTP?

Es un  protocolo simple de transferencia de correo. Se trata de un protocolo de comunicación que se utiliza para enviar y recibir mensajes de correo electrónico a través de Internet.

### ¿Cómo funciona SMTP? <a href="#seo-faq-pairs-how-does-smtp-work" id="seo-faq-pairs-how-does-smtp-work"></a>

El cliente o el servidor de correo electrónico del remitente actúa como cliente SMTP, y el servidor de correo electrónico del remitente actúa como servidor SMTP. Este cliente inicia una conexión con el servidor y transmite el correo electrónico completo con los detalles del destinatario, el asunto y el cuerpo. El servidor procesa este correo electrónico y determina el próximo servidor adecuado en función de la dirección del destinatario. El próximo servidor podría ser otro servidor SMTP en la ruta de transmisión o el destino final, es decir, el servidor de correo electrónico del destinatario. Una vez que el mensaje llega al servidor del destinatario, se envía a la bandeja de entrada del destinatario mediante un protocolo diferente, como POP o IMAP.

<mark style="color:red;">**Fuente:**</mark> [**https://aws.amazon.com/es/what-is/smtp/**](https://aws.amazon.com/es/what-is/smtp/)

**Por defecto tiene el puerto:**

```bash
25/tcp   open  smtp
465/tcp   open  smtp
587/tcp   open  smtp
```

## Escanear

```bash
nmap 192.168.1.101 --script=smtp* -p 25
```

### Script

```bash
nmap -p25 --script smtp-commands 192.168.13.26
nmap 192.168.1.101 --script=smtp* -p 25
nmap --script=smtp-commands,smtp-enum-users,smtp-vuln-cve2010-4344,smtp-vuln-cve2011-1720,smtp-vuln-cve2011-1764 -p 25 $ip
```

## Conectar

```
telnet 192.168.13.26 25
```

### Comandos

```
HELO: Se utiliza para iniciar una conversación SMTP con un servidor de correo electrónico. La orden va seguida de una dirección IP o un nombre de dominio (por ejemplo, HELO 10.1.2.14).
EHLO: Se utiliza para iniciar una conversación con un servidor Extended SMTP (ESMTP). Esta orden se utiliza de la misma manera que la orden HELO.
STARTTLS: Se utiliza para iniciar una conexión de Transport Layer Security (TLS) con un servidor de correo electrónico.
RCPT: Se utiliza para indicar la dirección de correo electrónico del destinatario.
DATA: Se utiliza para iniciar la transferencia del contenido de un mensaje de correo electrónico.
RSET: Se utiliza para restablecer (cancelar) una transacción de correo electrónico.
MAIL: Se utiliza para indicar la dirección de correo electrónico del remitente.
QUIT: Se utiliza para cerrar una conexión.
HELP: Se utiliza para mostrar un menú de ayuda (si está disponible).
AUTH: Se utiliza para autenticar a un cliente en el servidor.
VRFY: Se utiliza para verificar si existe el buzón de correo electrónico de un usuario.
EXPN: Se utiliza para solicitar o expandir una lista de correo en el servidor remoto.
```



<mark style="color:red;">**Recursos**</mark>

{% embed url="https://7h3w4lk3rs-organization.gitbook.io/the-hive/network-attacks/network/smtp-pop3" %}

{% embed url="https://book.hacktricks.xyz/v/es/network-services-pentesting/pentesting-smtp" %}
