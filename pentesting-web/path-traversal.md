---
layout:
  title:
    visible: true
  description:
    visible: false
  tableOfContents:
    visible: true
  outline:
    visible: true
  pagination:
    visible: true
---

# Path Traversal

Una vulnerabilidad _**de cruce de directorio**_ (a menudo denominada _recorrido de ruta_ ) puede permitir a los atacantes acceder a archivos y directorios almacenados fuera de la carpeta raíz web.

**NOTA** El recorrido de directorio tiene muchos nombres, incluidos _punto-punto-barra_ , _escalada de directorio_ y _retroceso_ .

Es posible explotar las vulnerabilidades de cruce de rutas manipulando variables que hacen referencia a archivos con la secuencia punto-punto-barra ( **../** ) y sus variaciones o utilizando rutas absolutas de archivos para acceder a archivos en el sistema vulnerable. Un atacante puede obtener información crítica y confidencial al explotar las vulnerabilidades de cruce de directorios.

La Figura 6-22 muestra un ejemplo de cómo explotar una vulnerabilidad de cruce de directorio.

_**Figura 6-22**_ _: Explotación de una vulnerabilidad de cruce de directorio (ruta)_

![](https://skillsforall.com/content/eh/1.0/m6/course/en-US/assets/3e94a0a6c226101c2cd5d9046f7f3d220fdcf001.png)

La Figura 6-22 muestra la siguiente URL en uso:

```
http://192.168.78.8:66/vulnerabilities/fi/?page=../../../../../etc/passwd
```

La aplicación vulnerable muestra el contenido del archivo **/etc/passwd** al atacante.

Es posible utilizar la codificación de URL, como se demuestra en el siguiente ejemplo, para explotar las vulnerabilidades de recorrido del directorio (ruta):

```
  %2e%2e%2f es igual a ../ %2e%2e/ es igual a ../ ..%2f es igual a ../ %2e%2e%5c es igual a ..\
```

Un atacante también puede utilizar otras combinaciones de codificación, por ejemplo, estructuras de ruta específicas del sistema operativo como **/** en sistemas Linux o macOS y **\\** en Windows.

Las siguientes son algunas de las mejores prácticas para prevenir y mitigar las vulnerabilidades de cruce de directorios:

* Comprender cómo el sistema operativo subyacente procesa los nombres de archivos proporcionados por un usuario o una aplicación.
* Nunca almacene archivos de configuración confidenciales dentro del directorio raíz web.
* Evite la entrada del usuario cuando utilice llamadas al sistema de archivos.
* Impedir que los usuarios suministren todas las partes del camino. Puede hacer esto rodeando la entrada del usuario con su código de ruta.
* Realice la validación de entradas aceptando únicamente entradas buenas y conocidas.
